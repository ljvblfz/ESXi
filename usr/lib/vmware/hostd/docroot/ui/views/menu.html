<div class="object-navigator menu-panel" ng-right-click="">
   <ul class="object-navigator-list">
      <li ng-repeat="d in mainMenu.structure" ng-if="!d.hidden">

         <div ng-if="d.newSection" ng-class="{'object-navigator-header-section': d.newSection}"></div>

         <div ng-if="d.state" class="object object-navigator-header" ng-class="{'object-navigator-header-selected': mainMenu.isSelected(d.state) && !d.abstract}">
            <div class="inline">
               <em ng-if="d.children && d.children.length > 0" ng-click="mainMenu.toggleCollapsed(d)" style="margin: 0px" ng-class="{'vui-icon-caret-gray-right': d.collapsed, 'vui-icon-caret-gray-down': !d.collapsed}"></em>
               <em ng-if="d.children && d.children.length === 0" style="margin: 0px; opacity: 0.2;" class="vui-icon-caret-gray-right"></em>
            </div>
            <a class="inline"  ui-sref="{{d.state}}" ng-right-click="onContext($event, d)">
               <span ng-if="d.iconClass" class="{{d.iconClass}}"></span>
               <span ng-click="mainMenu.open(d)" class="object-navigator-label short-label bold" title="{{d.title}}">{{d.title}}</span>
               <span ng-if="d.total || d.total === 0" class="object-navigator-counter">{{d.total}}</span>
            </a>
         </div>
         <div ng-if="!d.state" class="object">
            <div class="inline" ng-right-click="onContext($event, d)">
               <div class="inline">
                  <em ng-click="mainMenu.open(d)" style="margin: 0px" ng-class="{'vui-icon-caret-gray-right': d.collapsed, 'vui-icon-caret-gray-down': !d.collapsed}"></em>
               </div>
               <span ng-if="d.iconClass" class="{{d.iconClass}}"></span>
               <span ng-click="mainMenu.toggleCollapsed(d)" class="object-navigator-label short-label bold" title="{{d.title}}">{{d.title}}</span>
               <span ng-if="d.total || d.total === 0" class="object-navigator-counter">{{d.total}}</span>
            </div>
         </div>

         <ul ng-if="!d.collapsed && d.children.length > 0" class="object-navigator-list object-navigator-list1 toggle">
            <li ng-repeat="dc in d.children" ng-if="!dc.hidden">

               <div ng-if="dc.state && (dc.children && dc.children.length > 0)" class="menu-parent2 object object-navigator-header" ng-class="{'object-navigator-header-selected': mainMenu.isSelected(dc.state)}">
                  <div class="inline">
                     <em ng-click="mainMenu.toggleCollapsed(dc)" style="margin: 0px"
                        ng-class="{'vui-icon-caret-gray-right': dc.collapsed, 'vui-icon-caret-gray-down': !dc.collapsed}"></em>
                  </div>
                  <a class="inline" ui-sref="{{dc.abstract ? false : dc.state}}" ng-right-click="onContext($event, dc)">
                     <span ng-if="dc.iconClass" class="{{dc.iconClass}}"></span>
                     <span ng-click="mainMenu.open(dc)" class="object-navigator-label short-label bold" title="{{dc.title}}">{{dc.title}}</span>
                  </a>
               </div>

               <div ng-if="!dc.state && (dc.children && dc.children.length > 0)" class="menu-parent2 object">
                  <div class="inline" ng-right-click="onContext($event, dc)">
                     <div class="inline">
                        <em ng-click="mainMenu.toggleCollapsed(dc)" style="margin: 0px"
                           ng-class="{'vui-icon-caret-gray-right': dc.collapsed, 'vui-icon-caret-gray-down': !dc.collapsed}"></em>
                     </div>
                     <span ng-if="dc.iconClass" class="{{dc.iconClass}}"></span>
                     <span class="object-navigator-label short-label bold" title="{{dc.title}}">{{dc.title}}</span>
                  </div>
               </div>

               <ul ng-if="!dc.collapsed && dc.children && dc.children.length > 0" class="object-navigator-list object-navigator-list2 toggle">
                  <li ng-repeat="dcc in dc.children">

                     <div ng-if="dcc.state && (dcc.children && dcc.children.length > 0)" class="menu-parent3 object"
                          ng-class="{'selected': mainMenu.isSelected(dcc.state)}">
                        <div class="inline">
                           <em ng-click="mainMenu.toggleCollapsed(dcc)" style="margin: 0px"
                              ng-class="{'vui-icon-caret-gray-right': dcc.collapsed, 'vui-icon-caret-gray-down': !dcc.collapsed}"></em>
                        </div>
                        <a class="inline"  ui-sref="{{dcc.abstract ? false : dcc.state}}">
                           <span ng-if="dcc.iconClass" class="{{dcc.iconClass}}"></span>
                           <span ng-click="mainMenu.open(dcc)" class="object-navigator-label short-label bold" title="{{dcc.title}}">{{dcc.title}}</span>
                        </a>
                     </div>
                     <div ng-if="!dcc.state && (dcc.children && dcc.children.length > 0)" class="menu-parent3 object">
                        <div class="inline" >
                           <div class="inline">
                              <em ng-click="mainMenu.toggleCollapsed(dcc)" style="margin: 0px"
                                 ng-class="{'vui-icon-caret-gray-right': dcc.collapsed, 'vui-icon-caret-gray-down': !dcc.collapsed}"></em>
                           </div>
                           <span ng-if="dcc.iconClass" class="{{dcc.iconClass}}"></span>
                           <span class="object-navigator-label short-label bold" title="{{dcc.title}}">{{dcc.title}}</span>
                        </div>
                     </div>

                     <ul ng-if="!dcc.collapsed && dcc.children && dcc.children.length > 0" class="object-navigator-list object-navigator-list3 toggle">
                        <li ng-repeat="dccc in dcc.children">
                           <a ng-if="dccc.state" ng-class="{'selected': mainMenu.isSelected(dccc.state)}" class="object" ui-sref="{{dccc.abstract ? false : dccc.state}}" ng-right-click="onContext($event, dccc)">
                              <span class="object-navigator-label menu-children3 short-label" title="{{dccc.title}}">{{dccc.title}}</span>
                           </a>
                        </li>
                     </ul>

                     <a ng-if="dcc.state && (!dcc.children || dcc.children.length === 0)" ng-class="{'selected': mainMenu.isSelected(dcc.state)}" class="object"  ui-sref="{{dcc.abstract ? false : dcc.state}}" ng-right-click="onContext($event, dcc)">
                        <span class="object-navigator-label menu-children2 short-label" title="{{dcc.title}}">{{dcc.title}}</span>
                     </a>

                  </li>
               </ul>

               <div ng-if="dc.state && dc.object && (!dc.children || dc.children.length === 0)" class="menu-parent2 object object-navigator-header" ng-class="{'object-navigator-header-selected': mainMenu.isSelected(dc.state)}">
                  <div class="inline">
                     <em style="margin: 0px; opacity: 0.2;" class="vui-icon-caret-gray-right"></em>
                  </div>
                  <a class="inline" ui-sref="{{dc.abstract ? false : dc.state}}" ng-right-click="onContext($event, dc)">
                     <span ng-if="dc.iconClass" class="{{dc.iconClass}}"></span>
                     <span ng-click="mainMenu.open(dc)" class="object-navigator-label short-label bold" title="{{dc.title}}">{{dc.title}}</span>
                  </a>
               </div>

               <a ng-if="dc.state && !dc.object && (!dc.children || dc.children.length === 0)" ng-class="{'selected': mainMenu.isSelected(dc.state)}" class="object"  ui-sref="{{dc.abstract ? false : dc.state}}" ng-right-click="onContext($event, dc)">
                  <span class="object-navigator-label menu-children1 short-label" title="{{dc.title}}">{{dc.title}}</span>
               </a>

            </li>

            <li ng-if="d.children.length > 0 && d.more">
               <div class="object-navigator-header">
                  <a class="more" ui-sref="{{d.state}}"><span class="object-navigator-label menu-children1 more">{{d.more}}</span></a>
               </div>
            </li>
         </ul>

      </li>
   </ul>
</div>
