<div ng-class="{'esx-main-content': !nested}">
   <div ng-show="!loaded" class="loading">
   </div>

   <div ng-if="loaded && !nested" vui-action-bar="portgroupActionBarOptions" style="margin-bottom: 20px;"></div>

   <div ng-show="loaded" class="row header-area no-margin">
      <div class="col-sm-9 info-block no-padding">
         <div class="identifying-graphic col-sm-4 col-lg-3">
            <img src="images/network/obj-network.png" alt="{{'network.portgroup.alt' | translate}}"/>
         </div>
         <div class="key-information col-sm-8 col-lg-9">
            <div class="row">
               <div class="col-sm-12 title no-padding">
                  <span class="object-title" ng-bind="currentPortgroup.name"></span>
               </div>
            </div>
            <form class="form-horizontal">
               <div class="form-group">
                  <span
                     class="col-sm-3 col-lg-3 control-label esx-label no-padding">{{'network.portgroup.summary.accessible' | translate}}</span>
                  <div class="col-sm-8 col-lg-8 no-padding">
                     <p class="form-control-static">{{'network.portgroup.accessible.' + currentPortgroup.summary.accessible |translate}}</p>
                  </div>
               </div>
               <div ng-if="currentPortgroup.vm" class="form-group">
                  <span
                     class="col-sm-3 col-lg-3 control-label esx-label no-padding">{{'network.portgroup.summary.virtualMachines' | translate}}</span>
                  <div class="col-sm-8 col-lg-8 no-padding">
                     <p class="form-control-static">{{currentPortgroup.vm.length}}</p>
                  </div>
               </div>
               <div ng-if="currentPortgroup && currentPortgroup.type !== 'OpaqueNetwork'" class="form-group">
                  <span class="col-sm-3 col-lg-3 control-label esx-label no-padding">{{'network.portgroup.summary.virtualSwitch' | translate}}</span>
                  <div class="col-sm-8 col-lg-8 no-padding">
                     <p class="form-control-static">
                        <a href="#/host/networking/vswitches/{{currentPortgroup.spec.vswitch}}">
                           <em style="height: 12px; background-position: 0 -2px; margin: -2px 3px 0px 0; left: 10px;" class="esx-icon-network-standard-switch"></em>{{currentPortgroup.spec.vswitchName}}</a>
                     </p>
                  </div>
               </div>
               <div ng-if="currentPortgroup && currentPortgroup.type !== 'DistributedVirtualPortgroup' && currentPortgroup.type !== 'OpaqueNetwork'" class="form-group">
                  <span
                     class="col-sm-3 col-lg-3 control-label esx-label no-padding">{{'network.portgroup.summary.vlanId' | translate}}</span>
                  <div class="col-sm-8 col-lg-8 no-padding">
                     <p class="form-control-static">{{currentPortgroup.spec.vlanId}}</p>
                  </div>
               </div>
               <div ng-if="currentPortgroup" class="form-group">
                  <span
                     class="col-sm-3 col-lg-3 control-label esx-label no-padding">{{'network.portgroup.summary.activePorts' | translate}}</span>
                  <div class="col-sm-8 col-lg-8 no-padding">
                     <p class="form-control-static">{{currentPortgroup.activePorts}}</p>
                  </div>
               </div>
            </form>
         </div>
      </div>
      <div class="col-sm-3 metrics">&nbsp;</div>
   </div>

   <div ng-if="!nested" ng-show="loaded" class="portlet-area container-fluid no-margin no-padding">
      <div class="row">
         <div ng-if="showDiagram" class="col-lg-6 col-sm-12">
            <div class="vui-portlet no-margin" ng-class="{'collapsed': vswitchDiagramPortlet.collapsed}">
               <div class="portlet-titlebar" ng-click="vswitchDiagramPortlet.toggle()">
                  <span class="icon" ng-class="{
                     'vui-icon-caret-dark-gray-right': vswitchDiagramPortlet.collapsed,
                     'vui-icon-caret-dark-gray-down': !vswitchDiagramPortlet.collapsed}"></span>
                  <span class="titlebar-text" title="{{'network.portgroup.summary.vswitchTopology' | translate}}">{{'network.portgroup.summary.vswitchTopology' | translate}}</span>
               </div>
               <div class="portlet-content">
                  <div esx-vswitch-diagram data="vswitch"></div>
               </div>
            </div>
         </div>

         <div ng-if="showPolicyPortlets" class="col-lg-6 col-sm-12">
            <div class="vui-portlet no-margin" ng-class="{'collapsed': portgroupSecurityPolicyPortlet.collapsed}">
               <div class="portlet-titlebar" ng-click="portgroupSecurityPolicyPortlet.toggle()">
                  <span class="icon" ng-class="{
                     'vui-icon-caret-dark-gray-right': portgroupSecurityPolicyPortlet.collapsed,
                     'vui-icon-caret-dark-gray-down': !portgroupSecurityPolicyPortlet.collapsed}"></span>
                  <span class="titlebar-text"
                        title="{{'network.portgroup.summary.securityPolicy' | translate}}">{{'network.portgroup.summary.securityPolicy' | translate}}</span>
               </div>
               <div class="portlet-content">
                  <div esx-portlet-content loading-message="portgroupSecurityPolicyLoadingMessage" data="portgroupSecurityPolicyPortlet.data"></div>
               </div>
            </div>

            <div class="vui-portlet no-margin" ng-class="{'collapsed': portgroupTeamingPolicyPortlet.collapsed}">
               <div class="portlet-titlebar" ng-click="portgroupTeamingPolicyPortlet.toggle()">
                  <span class="icon" ng-class="{
                     'vui-icon-caret-dark-gray-right': portgroupTeamingPolicyPortlet.collapsed,
                     'vui-icon-caret-dark-gray-down': !portgroupTeamingPolicyPortlet.collapsed}"></span>
                  <span class="titlebar-text"
                        title="{{'network.portgroup.summary.nicTeamingPolicy' | translate}}">{{'network.portgroup.summary.nicTeamingPolicy' | translate}}</span>
               </div>
               <div class="portlet-content">
                  <div esx-portlet-content loading-message="portgroupTeamingPolicyLoadingMessage" data="portgroupTeamingPolicyPortlet.data"></div>
               </div>
            </div>

            <div class="vui-portlet no-margin" ng-class="{'collapsed': shapingPolicyPortlet.collapsed}">
               <div class="portlet-titlebar" ng-click="shapingPolicyPortlet.toggle()">
                  <span class="icon" ng-class="{
                     'vui-icon-caret-dark-gray-right': shapingPolicyPortlet.collapsed,
                     'vui-icon-caret-dark-gray-down': !shapingPolicyPortlet.collapsed}"></span>
                  <span class="titlebar-text"
                     title="{{'network.portgroup.summary.shapingPolicy' | translate}}">
                     {{'network.portgroup.summary.shapingPolicy' | translate}}</span>
               </div>
               <div class="portlet-content">
                  <div ng-if="shapingPolicyPortlet.data" esx-portlet-content data="shapingPolicyPortlet.data"></div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
